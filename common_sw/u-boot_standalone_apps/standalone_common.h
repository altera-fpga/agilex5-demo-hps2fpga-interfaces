/*
 * SPDX-FileCopyrightText: Copyright (C) 2024 Intel Corporation
 * SPDX-License-Identifier: MIT-0
 */

#ifndef __STANDALONE_COMMON_H__
#define __STANDALONE_COMMON_H__

/* system register bit fields */
#define MIDR_EL1_REV_MASK	(0x0000000F)
#define MIDR_EL1_REV_OFST	(0)
#define MIDR_EL1_PN_MASK	(0x0000FFF0)
#define MIDR_EL1_PN_OFST	(4)
#define MIDR_EL1_ARCH_MASK	(0x000F0000)
#define MIDR_EL1_ARCH_OFST	(16)
#define MIDR_EL1_VAR_MASK	(0x00F00000)
#define MIDR_EL1_VAR_OFST	(20)
#define MIDR_EL1_IMP_MASK	(0xFF000000)
#define MIDR_EL1_IMP_OFST	(24)

#define MIDR_EL1_A55_VAL	(0xD05)
#define MIDR_EL1_A76_VAL	(0xD0B)

#define MPIDR_EL1_AFF1_MASK	(0x0F00)
#define MPIDR_EL1_AFF1_OFST	(8)

#define CURRENTEL_MASK		(0xC)
#define CURRENTEL_OFST		(2)

#define DAIF_D_MASK		(0x0200ULL)
#define DAIF_A_MASK		(0x0100ULL)
#define DAIF_I_MASK		(0x0080ULL)
#define DAIF_F_MASK		(0x0040ULL)

#define CLIDR_CTYPE1_MASK	(0x00000007)
#define CLIDR_CTYPE1_OFST	(0)
#define CLIDR_CTYPE2_MASK	(0x00000038)
#define CLIDR_CTYPE2_OFST	(3)
#define CLIDR_CTYPE3_MASK	(0x000001C0)
#define CLIDR_CTYPE3_OFST	(6)
#define CLIDR_LOUIS_MASK	(0x00E00000)
#define CLIDR_LOUIS_OFST	(21)
#define CLIDR_LOC_MASK		(0x07000000)
#define CLIDR_LOC_OFST		(24)
#define CLIDR_LOUU_MASK		(0x38000000)
#define CLIDR_LOUU_OFST		(27)
#define CLIDR_ICB_MASK		(0xC0000000)
#define CLIDR_ICB_OFST		(30)

#define CCSIDR_LINE_SIZE_MASK	(0x00000007)
#define CCSIDR_LINE_SIZE_OFST	(0)
#define CCSIDR_ASSOC_MASK	(0x00001FF8)
#define CCSIDR_ASSOC_OFST	(3)
#define CCSIDR_SETS_MASK	(0x0FFFE000)
#define CCSIDR_SETS_OFST	(13)
#define CCSIDR_WA_MASK		(0x10000000)
#define CCSIDR_WA_OFST		(28)
#define CCSIDR_RA_MASK		(0x20000000)
#define CCSIDR_RA_OFST		(29)
#define CCSIDR_WB_MASK		(0x40000000)
#define CCSIDR_WB_OFST		(30)
#define CCSIDR_WT_MASK		(0x80000000)
#define CCSIDR_WT_OFST		(31)

#define CSSELR_IND_MASK		(0x00000001)
#define CSSELR_IND_OFST		(0)
#define CSSELR_LEVEL_MASK	(0x0000000E)
#define CSSELR_LEVEL_OFST	(1)

#define CACHE_LINE_SIZE(x)	(1 << ((x) + 4))
#define CACHE_ASSOC(x)		((x) + 1)
#define CACHE_SETS(x)		((x) + 1)

/* ATF SMC commands */
#define SMC_CMD_SDM_FIRM_VER	(0xC200001F)
#define SMC_CMD_HWMON_READTEMP	(0xC2000020)
#define SMC_CMD_HWMON_READVOLT	(0xC2000021)
#define SMC_CMD_GET_USERCODE	(0xC200003D)
#define SMC_CMD_GET_CHIPID	(0xC2000065)
#define SMC_CMD_SEC_REG_WR	(0xC2000008)

/* hps peripherals memory mapped base addresses */
#define SYSTEM_COUNTER_BASE	(0x10D02000)

#define HPS_GP_OUT_BASE		(0x10D120E4)
#define HPS_GP_IN_BASE		(0x10D120E8)

#define GICD_CTLR_BASE		(0x1D000000)
#define GICD_CTLR_ARE_NS	(0x00000020)
#define GICD_CTLR_EN_GRP1NS	(0x00000002)

#define GICD_GICR0_WAKER_BASE	(0x1D060014)
#define GICD_GICR1_WAKER_BASE	(0x1D080014)
#define GICD_GICR2_WAKER_BASE	(0x1D0A0014)
#define GICD_GICR3_WAKER_BASE	(0x1D0C0014)

#define GICD_IPRIORITYR12_BASE	(0x1D000430)
#define GICD_IPRIORITYR13_BASE	(0x1D000434)
#define GICD_IPRIORITYR14_BASE	(0x1D000438)
#define GICD_IPRIORITYR15_BASE	(0x1D00043C)
#define GICD_IPRIORITYR16_BASE	(0x1D000440)
#define GICD_IPRIORITYR17_BASE	(0x1D000444)
#define GICD_IPRIORITYR18_BASE	(0x1D000448)
#define GICD_IPRIORITYR19_BASE	(0x1D00044C)
#define GICD_IPRIORITYR20_BASE	(0x1D000450)

#define GICD_ICFGR3_BASE	(0x1D000C0C)
#define GICD_ICFGR4_BASE	(0x1D000C10)
#define GICD_ICFGR5_BASE	(0x1D000C14)

#define GICD_IGROUPR1_BASE	(0x1D000084)
#define GICD_IGROUPR2_BASE	(0x1D000088)

#define GICD_IGRPMODR1_BASE	(0x1D000D04)
#define GICD_IGRPMODR2_BASE	(0x1D000D08)

#define GICD_ISENABLER1_BASE	(0x1D000104)
#define GICD_ISENABLER2_BASE	(0x1D000108)
#define GICD_ISENABLER3_BASE	(0x1D00010C)

#define GICD_ICENABLER1_BASE	(0x1D000184)
#define GICD_ICENABLER2_BASE	(0x1D000188)
#define GICD_ICENABLER3_BASE	(0x1D00018C)

#define GIC_ISPENDR1_BASE	(0x1D000204)
#define GIC_ISPENDR2_BASE	(0x1D000208)
#define GIC_ISPENDR3_BASE	(0x1D00020C)

/* lwh2f bridge example memory mapped base addresses */
#define LWH2F_512M_BASE		(0x20000000)
#define LWH2F_512M_SPAN		(0x20000000)
#define LWH2F_SYSID_ID_BASE	(0x20000800)
#define LWH2F_SYSID_TS_BASE	(0x20000804)

/* h2f bridge example memory mapped base addresses */
#define H2F_1G_BASE		(0x0040000000ULL)
#define H2F_1G_SPAN		(0x0040000000ULL)
#define H2F_SYSID_ID_BASE	(0x0040000800ULL)
#define H2F_SYSID_TS_BASE	(0x0040000804ULL)
#define H2F_15G_BASE		(0x0440000000ULL)
#define H2F_15G_SPAN		(0x03C0000000ULL)
#define H2F_240G_BASE		(0x4400000000ULL)
#define H2F_240G_SPAN		(0x3C00000000ULL)

/* f2h bridge example memory mapped base addresses */
#define F2H_SYSID_ID_BASE	(0x20000000)
#define F2H_SYSID_TS_BASE	(0x20000004)
#define F2H_MSGDMA_CSR_BASE	(0x20001000)
#define F2H_MSGDMA_DES_BASE	(0x20002000)
#define F2H_OCRAM_32K_BASE	(0x20008000)
#define F2H_OCRAM_32K_SPAN	(0x00008000)
#define F2H_L3_CACHE_SPAN	(0x00200000)
#define F2H_BUF_0_BASE		(0xA0000000)
#define F2H_BUF_1_BASE		(F2H_BUF_0_BASE + F2H_L3_CACHE_SPAN)
#define F2H_THRASH_BASE		(F2H_BUF_1_BASE + F2H_L3_CACHE_SPAN)

/* f2sdram bridge example memory mapped base addresses */
#define F2SDRAM_SYSID_ID_BASE	(0x20000000)
#define F2SDRAM_SYSID_TS_BASE	(0x20000004)
#define F2SDRAM_MSGDMA_CSR_BASE	(0x20001000)
#define F2SDRAM_MSGDMA_DES_BASE	(0x20002000)
#define F2SDRAM_OCRAM_32K_BASE	(0x20008000)
#define F2SDRAM_OCRAM_32K_SPAN	(0x00008000)
#define F2SDRAM_L3_CACHE_SPAN	(0x00200000)
#define F2SDRAM_BUF_0_BASE	(0xA0000000)
#define F2SDRAM_BUF_1_BASE	(F2SDRAM_BUF_0_BASE + F2SDRAM_L3_CACHE_SPAN)
#define F2SDRAM_THRASH_BASE	(F2SDRAM_BUF_1_BASE + F2SDRAM_L3_CACHE_SPAN)

/* f2h and f2sdram MSGDMA memory mapped base addresses */
#define MSGDMA_OCRAM_32K_BASE	(0x100000000ULL)

/* hps uart base addresses */
#define HPS_UART0_BASE		(0x10C02000)
#define HPS_UART1_BASE		(0x10C02100)
#define HPS_UART_RBR_OFST	(0x00)
#define HPS_UART_IER_OFST	(0x04)
#define HPS_UART_IIR_OFST	(0x08)
#define HPS_UART_LCR_OFST	(0x0C)
#define HPS_UART_MCR_OFST	(0x10)
#define HPS_UART_LSR_OFST	(0x14)
#define HPS_UART_MSR_OFST	(0x18)
#define HPS_UART_SCR_OFST	(0x1C)
#define HPS_UART_FAR_OFST	(0x70)
#define HPS_UART_SRR_OFST	(0x88)

#define HPS_UART_LSR_THRE	(0x20)
#define HPS_UART_LSR_DR		(0x01)

#define PER1MODRST_BASE		(0x10D11028)
#define PER1MODRST_UART1	(0x00020000)
#define PER1MODRST_UART0	(0x00010000)
#define PER1MODRST_I2C0		(0x00000100)

/* hps spim0 base addresses */
#define HPS_SPIM0_BASE		(0x10DA4000)
#define HPS_SPI_CTRLR0_OFST	(0x00)
#define HPS_SPI_SSIENR_OFST	(0x08)
#define HPS_SPI_SER_OFST	(0x10)
#define HPS_SPI_BAUDR_OFST	(0x14)
#define HPS_SPI_TXFLR_OFST	(0x20)
#define HPS_SPI_RXFLR_OFST	(0x24)
#define HPS_SPI_DR0_OFST	(0x60)

#define PER0MODRST_BASE		(0x10D11024)
#define PER0MODRST_SPIM0	(0x00020000)

/* hps i2c0 base addresses */
#define HPS_I2C0_BASE		(0x10C02800)
#define IC_TAR_OFST		(0x04)
#define IC_DATA_CMD_OFST	(0x10)
#define IC_ENABLE_OFST		(0x6C)
#define IC_STATUS_OFST		(0x70)
#define IC_TXFLR_OFST		(0x74)
#define IC_RXFLR_OFST		(0x78)

#define CMD_WR			(0x000)
#define CMD_RD			(0x100)
#define CMD_STOP		(0x200)
#define CMD_RESTART		(0x400)

/* hps emac base addresses */
#define HPS_EMAC0_TX_BUF_BASE	(0xA0000000)
#define HPS_EMAC0_RX_BUF_BASE	(0xA0010000)
#define HPS_EMAC0_TX_DESC_BASE	(0xA0020000)
#define HPS_EMAC0_RX_DESC_BASE	(0xA0030000)

#define EMAC0_MAC_BASE			(0x10810000)
#define MAC_Tx_Configuration_OFST	(0x00000000)
#define MAC_Rx_Configuration_OFST	(0x00000004)
#define MAC_Packet_Filter_OFST		(0x00000008)
#define MAC_RxQ_Ctrl0_OFST		(0x000000A0)

#define EMAC0_MTL_BASE			(0x10811000)
#define MTL_TxQ0_Operation_Mode_OFST	(0x00000100)
#define MTL_RxQ0_Operation_Mode_OFST	(0x00000140)

#define EMAC0_DMA_BASE			(0x10813000)
#define DMA_Mode_OFST			(0x00000000)
#define DMA_SysBus_Mode_OFST		(0x00000004)

#define EMAC0_DMA_CH0_BASE			(0x10813100)
#define DMA_CH0_TX_Control_OFST			(0x00000004)
#define DMA_CH0_RX_Control_OFST			(0x00000008)
#define DMA_CH0_TxDesc_List_LAddress_OFST	(0x00000014)
#define DMA_CH0_RxDesc_List_LAddress_OFST	(0x0000001C)
#define DMA_CH0_TxDesc_Tail_LPointer_OFST	(0x00000024)
#define DMA_CH0_RxDesc_Tail_LPointer_OFST	(0x0000002C)
#define DMA_CH0_TX_Control2_OFST		(0x00000030)
#define DMA_CH0_RX_Control2_OFST		(0x00000034)
#define DMA_CH0_Status_OFST			(0x00000060)

#define SYSMGR_TSN0_BASE		(0x10D12044)
#define SYSMGR_TSN0_PHY_INTF_SEL_RESET	(0x00000003)
#define SYSMGR_TSN0_PHY_INTF_SEL_GMII	(0x00000000)

#define PER0MODRST_EMAC0		(0x00000001)

/* hps_gp_in signatures */
#define GPIO_SIG		(0x4F495047)
#define IRQ_SIG			(0x20515249)
#define CCLK_SIG		(0x4B4C4343)
#define UCLK_SIG		(0x4B4C4355)
#define LWH2_SIG		(0x3248574C)
#define H2F_SIG			(0x20463248)
#define F2SD_SIG		(0x44533246)
#define UART_SIG		(0x54524155)
#define SAMB_SIG		(0x424D4153)
#define IAMB_SIG		(0x424D4149)
#define F2H_SIG			(0x20483246)
#define EMAC_SIG		(0x43414D45)

/* jtag usercodes */
#define USERCODE_ARROWAXE5	(0x11111111)
#define USERCODE_CLMITYSBC	(0x22222222)
#define USERCODE_ALTERAPREM	(0x33333333)
#define USERCODE_MACNICASULFUR	(0x44444444)

#endif  /* __STANDALONE_COMMON_H__ */

